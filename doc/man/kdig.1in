.\" Man page generated from reStructuredText.
.
.TH "KDIG" "1" "@RELEASE_DATE@" "@VERSION@" "Knot DNS"
.SH NAME
kdig \- Advanced DNS lookup utility
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBkdig\fP [\fIcommon\-settings\fP] [\fIquery\fP [\fIsettings\fP]]...
.sp
\fBkdig\fP \fB\-h\fP
.SH DESCRIPTION
.sp
This utility sends one or more DNS queries to a nameserver. Each query can have
individual \fIsettings\fP, or it can be specified globally via \fIcommon\-settings\fP,
which must precede \fIquery\fP specification.
.SS Parameters
.INDENT 0.0
.TP
\fIquery\fP
\fIname\fP | \fB\-q\fP \fIname\fP | \fB\-x\fP \fIaddress\fP | \fB\-G\fP \fItapfile\fP
.TP
\fIcommon\-settings\fP, \fIsettings\fP
[\fIclass\fP] [\fItype\fP] [\fB@\fP\fIserver\fP]... [\fIoptions\fP]
.TP
\fIname\fP
Is a domain name that is to be looked up.
.TP
\fIserver\fP
Is a domain name or an IPv4 or IPv6 address of the nameserver to send a query
to. An additional port can be specified using address:port ([address]:port
for IPv6 address), address@port, or address#port notation. If no server is
specified, the servers from \fB/etc/resolv.conf\fP are used.
.UNINDENT
.sp
If no arguments are provided, \fBkdig\fP sends NS query for the root
zone.
.SS Options
.INDENT 0.0
.TP
\fB\-4\fP
Use IPv4 protocol only.
.TP
\fB\-6\fP
Use IPv6 protocol only.
.TP
\fB\-b\fP \fIaddress\fP
Set the source IP address of the query to \fIaddress\fP\&. The address must be a
valid address for local interface or :: or 0.0.0.0. Optional port
can be specified in the same format as \fIserver\fP value.
.TP
\fB\-c\fP \fIclass\fP
Set query class (e.g. CH, CLASS4). An explicit variant of \fIclass\fP
specification. The default class is IN.
.TP
\fB\-d\fP
Enable debug messages.
.TP
\fB\-h\fP, \fB\-\-help\fP
Print help and usage.
.TP
\fB\-k\fP \fIkeyfile\fP
Use TSIG key stored in a file \fIkeyfile\fP to authenticate the request. The
file must contain the key in the same format, which is accepted by the
\fB\-y\fP option.
.TP
\fB\-p\fP \fIport\fP
Set nameserver port number or service name to send a query to. The default
port is 53.
.TP
\fB\-q\fP \fIname\fP
Set query name. An explicit variant of \fIname\fP specification.
.TP
\fB\-t\fP \fItype\fP
Set query type (e.g. NS, IXFR=12345, TYPE65535, NOTIFY). An explicit variant of
\fItype\fP specification. The default type is A. IXFR type requires SOA serial
parameter. NOTIFY type without SOA serial parameter causes pure NOTIFY message
without any SOA hint.
.TP
\fB\-v\fP, \fB\-\-version\fP
Print program version.
.TP
\fB\-x\fP \fIaddress\fP
Send reverse (PTR) query for IPv4 or IPv6 \fIaddress\fP\&. Correct name, class
and type is set automatically.
.TP
\fB\-y\fP [\fIalg\fP:]\fIname\fP:\fIkey\fP
Use TSIG key with a name \fIname\fP to authenticate the request. The \fIalg\fP
part specifies the algorithm (the default is hmac\-md5) and \fIkey\fP specifies
the shared secret encoded in Base64.
.TP
\fB\-E\fP \fItapfile\fP
Export a dnstap trace of the query and response messages received to the
file \fItapfile\fP\&.
.TP
\fB\-G\fP \fItapfile\fP
Generate message output from a previously saved dnstap file \fItapfile\fP\&.
.TP
\fB+\fP[\fBno\fP]\fBmultiline\fP
Wrap long records to more lines and improve human readability.
.TP
\fB+\fP[\fBno\fP]\fBshort\fP
Show record data only.
.TP
\fB+\fP[\fBno\fP]\fBaaflag\fP
Set AA flag.
.TP
\fB+\fP[\fBno\fP]\fBtcflag\fP
Set TC flag.
.TP
\fB+\fP[\fBno\fP]\fBrdflag\fP
Set RD flag.
.TP
\fB+\fP[\fBno\fP]\fBrecurse\fP
Same as \fB+\fP[\fBno\fP]\fBrdflag\fP
.TP
\fB+\fP[\fBno\fP]\fBraflag\fP
Set RA flag.
.TP
\fB+\fP[\fBno\fP]\fBzflag\fP
Set zero flag bit.
.TP
\fB+\fP[\fBno\fP]\fBadflag\fP
Set AD flag.
.TP
\fB+\fP[\fBno\fP]\fBcdflag\fP
Set CD flag.
.TP
\fB+\fP[\fBno\fP]\fBdnssec\fP
Set DO flag.
.TP
\fB+\fP[\fBno\fP]\fBall\fP
Show all packet sections.
.TP
\fB+\fP[\fBno\fP]\fBqr\fP
Show query packet.
.TP
\fB+\fP[\fBno\fP]\fBheader\fP
Show packet header.
.TP
\fB+\fP[\fBno\fP]\fBopt\fP
Show EDNS pseudosection.
.TP
\fB+\fP[\fBno\fP]\fBquestion\fP
Show question section.
.TP
\fB+\fP[\fBno\fP]\fBanswer\fP
Show answer section.
.TP
\fB+\fP[\fBno\fP]\fBauthority\fP
Show authority section.
.TP
\fB+\fP[\fBno\fP]\fBadditional\fP
Show additional section.
.TP
\fB+\fP[\fBno\fP]\fBtsig\fP
Show TSIG pseudosection.
.TP
\fB+\fP[\fBno\fP]\fBstats\fP
Show trailing packet statistics.
.TP
\fB+\fP[\fBno\fP]\fBclass\fP
Show DNS class.
.TP
\fB+\fP[\fBno\fP]\fBttl\fP
Show TTL value.
.TP
\fB+\fP[\fBno\fP]\fBtcp\fP
Use TCP protocol (default is UDP for standard query and TCP for AXFR/IXFR).
.TP
\fB+\fP[\fBno\fP]\fBfail\fP
Stop querying next nameserver if SERVFAIL response is received.
.TP
\fB+\fP[\fBno\fP]\fBignore\fP
Don\(aqt use TCP automatically if truncated reply is received.
.UNINDENT
.sp
\fB+\fP[\fBno\fP]\fBnsid\fP
.INDENT 0.0
.INDENT 3.5
Request nameserver identifier (NSID).
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fB+\fP[\fBno\fP]\fBedns\fP=\fIN\fP
Use EDNS version (default is 0).
.TP
\fB+noidn\fP
Disable IDN transformation to ASCII and vice versa. IDNA2003 support depends
on libidn availability during project building!
.TP
\fB+generic\fP
Use the generic representation format when printing resource record types
and data.
.TP
\fB+client\fP=\fISUBN\fP
Set EDNS client subnet SUBN=IP/prefix.
.TP
\fB+time\fP=\fIT\fP
Set wait for reply interval in seconds (default is 5 seconds). This timeout
applies to each query try.
.TP
\fB+retry\fP=\fIN\fP
Set number (>=0) of UDP retries (default is 2). This doesn\(aqt apply to
AXFR/IXFR.
.TP
\fB+bufsize\fP=\fIB\fP
Set EDNS buffer size in bytes (default is 512 bytes).
.UNINDENT
.SH NOTES
.sp
Options \fB\-k\fP and \fB\-y\fP cannot be used mutually.
.sp
Missing features with regard to ISC dig:
.INDENT 0.0
.INDENT 3.5
Options \fB\-f\fP and \fB\-m\fP and query options:
\fB+split\fP=\fIW\fP,
\fB+tries\fP=\fIT\fP,
\fB+ndots\fP=\fID\fP,
\fB+domain\fP=\fIsomename\fP,
\fB+trusted\-key\fP=\fI####\fP,
\fB+\fP[\fBno\fP]\fBvc\fP,
\fB+\fP[\fBno\fP]\fBsearch\fP,
\fB+\fP[\fBno\fP]\fBshowsearch\fP,
\fB+\fP[\fBno\fP]\fBdefname\fP,
\fB+\fP[\fBno\fP]\fBaaonly\fP,
\fB+\fP[\fBno\fP]\fBcmd\fP,
\fB+\fP[\fBno\fP]\fBidentify\fP,
\fB+\fP[\fBno\fP]\fBcomments\fP,
\fB+\fP[\fBno\fP]\fBrrcomments\fP,
\fB+\fP[\fBno\fP]\fBonesoa\fP,
\fB+\fP[\fBno\fP]\fBbesteffort\fP,
\fB+\fP[\fBno\fP]\fBsigchase\fP,
\fB+\fP[\fBno\fP]\fBtopdown\fP,
\fB+\fP[\fBno\fP]\fBnssearch\fP, and
\fB+\fP[\fBno\fP]\fBtrace\fP\&.
.sp
Per\-user file configuration via \fB~/.digrc\fP\&.
.UNINDENT
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
Get A records for example.com:
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
$ kdig example.com A
.ft P
.fi
.UNINDENT
.UNINDENT
.IP 2. 3
Perform AXFR for zone example.com from the server 192.0.2.1:
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
$ kdig example.com \-t AXFR @192.0.2.1
.ft P
.fi
.UNINDENT
.UNINDENT
.IP 3. 3
Get A records for example.com from 192.0.2.1 and reverse lookup for address
2001:DB8::1 from 192.0.2.2. Both using the TCP protocol:
.INDENT 3.0
.INDENT 3.5
.sp
.nf
.ft C
$ kdig +tcp example.com \-t A @192.0.2.1 \-x 2001:DB8::1 @192.0.2.2
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.SH FILES
.sp
\fB/etc/resolv.conf\fP
.SH SEE ALSO
.sp
\fIkhost(1)\fP, \fIknsupdate(1)\fP\&.
.SH AUTHOR
CZ.NIC Labs <http://www.knot-dns.cz>
.SH COPYRIGHT
Copyright 2010-2015, CZ.NIC, z.s.p.o.
.\" Generated by docutils manpage writer.
.
